{
    "CUser.add": {
        "prefix": "cuseradd",
        "body": [
            "\\$rsUser = new CUser;",
            "\\$dctFields = Array(",
            "\t'NAME'             => '${1:username}',",
            "\t'LAST_NAME'        => '${2:usernamelast}',",
            "\t'EMAIL'            => '${3:usremail}',",
            "\t'LOGIN'            => '${4:login}',",
            "\t'ACTIVE'           => 'Y',",
            "\t'GROUP_ID'         => array('${5:groups}'),",
            "\t'PASSWORD'         => '${6:userpass}',",
            ");",
            "",
            "\\$id = \\$rsUser->Add(\\$dctFields);",
            "if(!\\$id) {",
            "\techo \\$rsUser->LAST_ERROR;",
            "}"
        ],
        "description": "Создает нового пользователя."
    },
    "CUser.delete": {
        "prefix": "cuserdelete",
        "body": [
            "CUser::Delete('${1:usrid}');"
        ],
        "description": "Удаляет пользователя."
    },
    "CUser.GetByID": {
        "prefix": "cusergetbyid",
        "body": [
            "\\$dctUser = CUser::GetByID('${1:usrid}')->fetch();",
            "if(is_array(\\$dctUser)) {",
            "\tvar_export(\\$dctUser);",
            "}"
        ],
        "description": "Возвращает пользователя по его ID."
    },
    "CUser.GetList": {
        "prefix": "cusergetlist",
        "body": [
            "\\$dctFilter = array(",
            "\t'ACTIVE'    => 'Y',",
            "\t'ID'        => '${1:usrid}'",
            ");",
            "\\$rdbUsers = CUser::GetList(",
            "\t(\\$by = 'personal_country'),",
            "\t(\\$order = 'desc'),",
            "\t'\\$dctFilter'",
            ");",
            "while(\\$dctUser = \\$rdbUsers->fetch()){",
            "\tvar_export(\\$dctUser);",
            "}"
        ],
        "description": "Возвращает список пользователей."
    },
    "CUser.Update": {
        "prefix": "cuserupdate",
        "body": [
            "\\$dctFields = array(",
            "\t'NAME'  => '${1:newusername}',",
            "\t'EMAIL' => '${2:newusremail}',",
            "\t//...",
            ");",
            "\\$rsUser = new CUser;",
            "\\$rsUser->Update('${3:usrID}', \\$dctFields);"
        ],
        "description": "Изменяет существующий сайт."
    }
}
